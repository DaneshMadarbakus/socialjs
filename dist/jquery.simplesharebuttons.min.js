/*! Simple Share Buttons - v0.3.0 - 2014-11-17
* https://github.com/SubZane/simplesharebuttons
* Copyright (c) 2014 Andreas Norman; Licensed MIT */
!function(a){function b(b,d){function e(){f(),x("onInit")}function f(){var b=0;z.find(".sharebutton").each(function(){"twitter"===a(this).data("sharetype")?(o(this),d.fetchCounts&&(i(s(this)),a(".twitter-socialcount").html(b))):"facebook"===a(this).data("sharetype")?(l(this),d.fetchCounts&&h(s(this))):"linkedin"===a(this).data("sharetype")?(m(this),d.fetchCounts&&j(s(this))):"googleplus"===a(this).data("sharetype")&&(n(this),d.fetchCounts&&k(s(this))),g()})}function g(){a(document).ajaxStop(function(){x("onLoad")})}function h(b){a.ajax({url:"http://graph.facebook.com/?id="+b,async:!0,dataType:"json"}).done(function(b){a(".facebook-socialcount").html("undefined"!=typeof b.shares?b.shares:0)})}function i(b){a.ajax({url:"http://cdn.api.twitter.com/1/urls/count.json?url="+b+"&callback=?",async:!0,dataType:"json"}).done(function(b){a(".twitter-socialcount").html(b.count)})}function j(b){a.ajax({url:"http://www.linkedin.com/countserv/count/share?url="+b+"&callback=?",async:!0,dataType:"json"}).done(function(b){a(".linkedin-socialcount").html(b.count)})}function k(b){a.ajax({url:d.GooglePlusAPIProvider+"?url="+b,async:!0,dataType:"text"}).done(function(b){a(".googleplus-socialcount").html(b)})}function l(b){a(b).on("click",function(a){a.preventDefault();{var b=s(this),c="u="+encodeURIComponent(b);encodeURIComponent(b)}return window.facebook=window.facebook||{},window.facebook.shareWin=window.open("https://www.facebook.com/sharer/sharer.php?"+c,"",u()),!1})}function m(b){a(b).on("click",function(a){a.preventDefault();{var b=t(this),c=s(this),d="original_referer="+encodeURIComponent(b)+"&url="+encodeURIComponent(c);encodeURIComponent(c)}return window.GooglePlus=window.GooglePlus||{},window.GooglePlus.shareWin=window.open("https://www.linkedin.com/cws/share?"+d+"&isFramed=true","",u()),!1})}function n(b){a(b).on("click",function(a){a.preventDefault();{var b=q(this),c=s(this),d="text="+encodeURIComponent(b)+"&url="+encodeURIComponent(c);encodeURIComponent(c)}return window.GooglePlus=window.GooglePlus||{},window.GooglePlus.shareWin=window.open("https://plus.google.com/share?"+d,"",u()),!1})}function o(b){a(b).on("click",function(a){a.preventDefault();{var b=q(this),c=s(this),d=p(this),e=r(this),f="text="+encodeURIComponent(b)+"&url="+encodeURIComponent(c)+"&via="+d+"&related="+e;encodeURIComponent(c)}return window.Twitter=window.Twitter||{},window.Twitter.shareWin=window.open("https://twitter.com/intent/tweet?"+f,"",u()),!1})}function p(b){return"undefined"!=typeof a(b).data("via")?a(b).data("via"):""}function q(b){return"undefined"!=typeof a(b).data("text")?a(b).data("text"):""}function r(b){return"undefined"!=typeof a(b).data("related")?a(b).data("related"):""}function s(b){return"undefined"!=typeof a(b).data("url")?a(b).data("url"):document.URL}function t(b){return"undefined"!=typeof a(b).data("referer")?a(b).data("referer"):""}function u(){var a=550,b=335,c=screen.height,d=screen.width,e=Math.round(d/2-a/2),f=0;return c>b&&(f=Math.round(c/2-b/2)),"left="+e+",top="+f+",width="+a+",height="+b+",personalbar=0,toolbar=0,scrollbars=1,resizable=1"}function v(a,b){return b?void(d[a]=b):d[a]}function w(){z.each(function(){var b=a(this);x("onDestroy"),b.removeData("plugin_"+c)})}function x(a){void 0!==d[a]&&d[a].call(y)}var y=b,z=a(b);return d=a.extend({},a.fn[c].defaults,d),e(),{option:v,destroy:w}}var c="simplesharebuttons";a.fn[c]=function(d){if("string"==typeof arguments[0]){var e,f=arguments[0],g=Array.prototype.slice.call(arguments,1);return this.each(function(){if(!a.data(this,"plugin_"+c)||"function"!=typeof a.data(this,"plugin_"+c)[f])throw new Error("Method "+f+" does not exist on jQuery."+c);e=a.data(this,"plugin_"+c)[f].apply(this,g)}),void 0!==e?e:this}return"object"!=typeof d&&d?void 0:this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})},a.fn[c].defaults={fetchCounts:!0,GooglePlusAPIProvider:"backend/GooglePlusCall.php",onInit:function(){},onLoad:function(){},onDestroy:function(){}}}(jQuery);