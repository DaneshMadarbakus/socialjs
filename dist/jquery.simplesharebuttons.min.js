/*! Simple Share Buttons - v0.5.0 - 2014-12-10
* https://github.com/SubZane/simplesharebuttons
* Copyright (c) 2014 Andreas Norman; Licensed MIT */
!function(a){function b(b,d){function e(){f(),H("onInit")}function f(){J.find(".sharebutton").each(function(){"twitter"===a(this).data("sharetype")?(r(this),d.fetchCounts&&j(this)):"facebook"===a(this).data("sharetype")?(n(this),d.fetchCounts&&i(this)):"linkedin"===a(this).data("sharetype")?(o(this),d.fetchCounts&&k(this)):"googleplus"===a(this).data("sharetype")?(q(this),d.fetchCounts&&l(this)):"reddit"===a(this).data("sharetype")&&(p(this),d.fetchCounts&&h(this)),g()})}function g(){a(document).ajaxStop(function(){H("onLoad")})}function h(b){a.ajax({url:"http://www.reddit.com/api/info.json?url="+v(b),async:!0,dataType:"json"}).done(function(c){var d=0;a.isArray(c.data.children)&&c.data.children.length?(d=x(b)+parseInt(c.data.children[0].data.score,10),a(b).find(".count").html(m(d)),K+=d,P=d):(d=x(b),a(b).find(".count").html(m(d)),K+=d,P=d)})}function i(b){a.ajax({url:"http://graph.facebook.com/?id="+v(b),async:!0,dataType:"json"}).done(function(c){var d=0;"undefined"!=typeof c.shares?(d=x(b)+parseInt(c.shares,10),a(b).find(".count").html(m(d)),K+=d,M=d):(d=x(b),a(b).find(".count").html(m(d)),K+=d,M=d)})}function j(b){a.ajax({url:"http://cdn.api.twitter.com/1/urls/count.json?url="+v(b)+"&callback=?",async:!0,dataType:"json"}).done(function(c){var d=x(b)+parseInt(c.count,10);a(b).find(".count").html(m(d)),K+=d,L=d})}function k(b){a.ajax({url:"http://www.linkedin.com/countserv/count/share?url="+v(b)+"&callback=?",async:!0,dataType:"json"}).done(function(c){var d=x(b)+parseInt(c.count,10);a(b).find(".count").html(m(d)),K+=d,N=d})}function l(b){a.ajax({url:d.GooglePlusAPIProvider+"?url="+v(b),async:!0,dataType:"text"}).done(function(c){var d=x(b)+parseInt(c,10);a(b).find(".count").html(m(d)),K+=d,O=d})}function m(a){return d.shortCount&&(a>=1e6?a=parseInt((a/1e6).toFixed(2),10)+"M":a>=1e3&&(a=parseInt((a/1e3).toFixed(1),10)+"k")),a}function n(b){a(b).on("click",function(a){a.preventDefault();{var b=v(this),c="u="+encodeURIComponent(b);encodeURIComponent(b)}return window.facebook=window.facebook||{},window.facebook.shareWin=window.open("https://www.facebook.com/sharer/sharer.php?"+c,"",y()),!1})}function o(b){a(b).on("click",function(a){a.preventDefault();{var b=w(this),c=v(this),d="original_referer="+encodeURIComponent(b)+"&url="+encodeURIComponent(c);encodeURIComponent(c)}return window.GooglePlus=window.GooglePlus||{},window.GooglePlus.shareWin=window.open("https://www.linkedin.com/cws/share?"+d+"&isFramed=true","",y()),!1})}function p(b){a(b).on("click",function(a){a.preventDefault();{var b=v(this),c="url="+encodeURIComponent(b);encodeURIComponent(b)}return window.Reddit=window.Reddit||{},window.Reddit.shareWin=window.open("http://www.reddit.com/submit?"+c,"",y()),!1})}function q(b){a(b).on("click",function(a){a.preventDefault();{var b=t(this),c=v(this),d="text="+encodeURIComponent(b)+"&url="+encodeURIComponent(c);encodeURIComponent(c)}return window.GooglePlus=window.GooglePlus||{},window.GooglePlus.shareWin=window.open("https://plus.google.com/share?"+d,"",y()),!1})}function r(b){a(b).on("click",function(a){a.preventDefault();{var b=t(this),c=v(this),d=s(this),e=u(this),f="text="+encodeURIComponent(b)+"&url="+encodeURIComponent(c)+"&via="+d+"&related="+e;encodeURIComponent(c)}return window.Twitter=window.Twitter||{},window.Twitter.shareWin=window.open("https://twitter.com/intent/tweet?"+f,"",y()),!1})}function s(b){return"undefined"!=typeof a(b).data("via")?a(b).data("via"):""}function t(b){return"undefined"!=typeof a(b).data("text")?a(b).data("text"):""}function u(b){return"undefined"!=typeof a(b).data("related")?a(b).data("related"):""}function v(b){return"undefined"!=typeof a(b).data("url")?a(b).data("url"):document.URL}function w(b){return"undefined"!=typeof a(b).data("referer")?a(b).data("referer"):""}function x(b){return"undefined"!=typeof a(b).data("basecount")?a(b).data("basecount"):0}function y(){var a=550,b=335,c=screen.height,d=screen.width,e=Math.round(d/2-a/2),f=0;return c>b&&(f=Math.round(c/2-b/2)),"left="+e+",top="+f+",width="+a+",height="+b+",personalbar=0,toolbar=0,scrollbars=1,resizable=1"}function z(){return K}function A(){return M}function B(){return L}function C(){return N}function D(){return O}function E(){return P}function F(a,b){return b?void(d[a]=b):d[a]}function G(){J.each(function(){var b=a(this);H("onDestroy"),b.removeData("plugin_"+c)})}function H(a){void 0!==d[a]&&d[a].call(I)}var I=b,J=a(b),K=0,L=0,M=0,N=0,O=0,P=0;return d=a.extend({},a.fn[c].defaults,d),e(),{option:F,destroy:G,getTotalCount:z,getFacebookCount:A,getGooglePlusCount:D,getLinkedinCount:C,getTwitterCount:B,getRedditCount:E}}var c="simplesharebuttons";a.fn[c]=function(d){if("string"==typeof arguments[0]){var e,f=arguments[0],g=Array.prototype.slice.call(arguments,1);return this.each(function(){if(!a.data(this,"plugin_"+c)||"function"!=typeof a.data(this,"plugin_"+c)[f])throw new Error("Method "+f+" does not exist on jQuery."+c);e=a.data(this,"plugin_"+c)[f].apply(this,g)}),void 0!==e?e:this}return"object"!=typeof d&&d?void 0:this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})},a.fn[c].defaults={fetchCounts:!0,GooglePlusAPIProvider:"backend/GooglePlusCall.php",shortCount:!0,onInit:function(){},onLoad:function(){},onDestroy:function(){}}}(jQuery);